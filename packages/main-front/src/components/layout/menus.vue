<script lang='ts' setup>

import {ref} from 'vue';
import sideIn from './static/side-in.svg';
import sideOut from './static/side-out.svg';
import logo from '../../assets/logo.svg';


const sideMode = ref(true); // true 是展开

// 处理侧边栏收起和打开
function changeMenuMode() {
  sideMode.value = !sideMode.value;
}


</script>


<template>
  <div
      :style='{width:sideMode?"200px":"64px"}'
      style='transition: all 400ms;position: relative;user-select: none;overflow: hidden'>
    <!--    搜logo-->
    <div class='top-logo'>
      <img :src='logo' alt=''>
      <p v-if='sideMode'>Console控制台</p>
    </div>

    <!--    菜单列表-->
    <el-menu class='el-menu-style' :collapse='!sideMode' default-active='1' :router='true'>
      <!--      素材管理-->
      <el-sub-menu index='1'>
        <template #title>
          <el-icon color="#409EFC">
            <svg t="1660632453492" class="icon" viewBox="0 0 1280 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 p-id="20040" width="32" height="32">
              <path
                  d="M1213.44 318.08H59.2c-58.56 0-61.504 28.544-58.368 63.424l52.48 573.184c3.2 34.88 11.52 63.36 70.016 63.36h1025.92c59.712 0 66.816-28.48 69.952-63.36l52.48-573.184c3.2-34.88 0.32-63.36-58.24-63.36z m-42.368-139.904c-7.04-28.032-41.664-50.944-76.928-50.944H660.48c-35.264 0-84.608-20.16-109.568-44.864L513.088 44.928C488.128 20.224 438.848 0 403.52 0H196.352c-35.2 0-67.328 28.48-71.168 63.232l-18.56 165.824h1077.248l-12.8-50.88z"
                  p-id="20041" fill="#117c93"></path>
            </svg>
          </el-icon>
          <span>素材管理</span>
        </template>
        <el-menu-item index='/material/articleList'>图文素材</el-menu-item>
        <el-menu-item index='1-2'>问卷素材</el-menu-item>
        <el-menu-item index='1-3'>标签管理</el-menu-item>
        <el-menu-item index='1-3'>绑定管理</el-menu-item>
      </el-sub-menu>
      <!--      开发管理-->
      <el-sub-menu index='2'>
        <template #title>
          <el-icon color="#409EFC">
            <svg t="1660632413765" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 p-id="18867" width="32" height="32">
              <path
                  d="M287.744 27.648H119.808c-31.744 0-62.464 12.288-84.992 35.84C12.288 84.992 0 115.712 0 147.456V317.44c0 66.56 53.248 120.832 119.808 120.832h167.936c31.744 0 62.464-12.288 84.992-35.84 22.528-22.528 35.84-53.248 35.84-84.992V147.456c0-31.744-12.288-62.464-35.84-84.992-21.504-22.528-52.224-34.816-84.992-34.816z m315.392 122.88h360.448c32.768 0 59.392-27.648 59.392-60.416 0-16.384-6.144-31.744-17.408-43.008s-26.624-17.408-41.984-17.408H603.136c-21.504 0-41.984 11.264-52.224 29.696-11.264 18.432-11.264 41.984 0 60.416 11.264 19.456 30.72 30.72 52.224 30.72z m360.448 120.832H603.136c-33.792 0-60.416 26.624-60.416 60.416 0 33.792 26.624 60.416 60.416 60.416h360.448c33.792 0 60.416-26.624 60.416-60.416 0-33.792-26.624-60.416-60.416-60.416z m0 603.136H603.136c-21.504 0-41.984 11.264-52.224 29.696-11.264 18.432-11.264 41.984 0 60.416 11.264 18.432 30.72 29.696 52.224 29.696h360.448c33.792 0 60.416-26.624 60.416-60.416 0-32.768-26.624-59.392-60.416-59.392z m0-241.664H603.136c-21.504 0-41.984 11.264-52.224 29.696-11.264 18.432-11.264 41.984 0 60.416 11.264 18.432 30.72 29.696 52.224 29.696h360.448c33.792 0 60.416-26.624 60.416-60.416 0-32.768-26.624-59.392-60.416-59.392z m-675.84-46.08H119.808C53.248 586.752 0 641.024 0 707.584v168.96c0 31.744 12.288 62.464 34.816 84.992 22.528 22.528 53.248 34.816 84.992 34.816h167.936c31.744 0 62.464-12.288 84.992-35.84 22.528-22.528 35.84-53.248 35.84-84.992V707.584c0-31.744-12.288-62.464-35.84-84.992-21.504-22.528-52.224-35.84-84.992-35.84z m0 0"
                  p-id="18868" fill="#117c93"></path>
            </svg>
          </el-icon>
          <span>开发管理</span>
        </template>
        <el-menu-item index='2-1'>页面管理</el-menu-item>
        <el-menu-item index='2-2'>路由管理</el-menu-item>
        <el-menu-item index='2-3'>集成管理</el-menu-item>
      </el-sub-menu>
      <!--      组件示例-->
      <el-sub-menu index='3'>
        <template #title>
          <el-icon color="#409EFC">
            <svg t="1660631968275" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 p-id="16865" width="32" height="32">
              <path
                  d="M369.152 34.484706A15.058824 15.058824 0 0 1 389.571765 28.310588a329.487059 329.487059 0 0 1 66.590117 47.405177c31.623529 29.033412 50.748235 56.801882 69.571765 98.785882a15.058824 15.058824 0 0 1-27.467294 12.348235c-17.257412-38.430118-34.032941-62.855529-62.464-88.937411a299.369412 299.369412 0 0 0-60.536471-43.068236 15.058824 15.058824 0 0 1-6.113882-20.389647zM472.335059 990.388706a15.058824 15.058824 0 0 1-0.542118-21.293177c16.052706-16.865882 22.106353-28.129882 24.244706-41.953882l0.542118-4.186353c0.391529-3.614118 0.602353-7.890824 0.963764-15.751529a15.058824 15.058824 0 0 1 30.08753 1.295059l-0.632471 12.227764c-0.301176 4.246588-0.632471 7.348706-1.204706 10.992941-3.132235 20.329412-12.137412 37.074824-32.165647 58.127059a15.058824 15.058824 0 0 1-21.293176 0.542118z"
                  fill="#117c93" p-id="16866"></path>
              <path
                  d="M828.235294 421.647059h-632.470588v180.705882c0 174.652235 141.583059 316.235294 316.235294 316.235294S828.235294 777.005176 828.235294 602.352941v-180.705882z m-602.352941 0h572.235294v180.705882a286.117647 286.117647 0 0 1-286.117647 286.117647l-8.131765-0.12047A286.117647 286.117647 0 0 1 225.882353 602.352941v-180.705882z"
                  fill="#117c93" p-id="16867"></path>
              <path
                  d="M752.941176 165.647059H271.058824A135.529412 135.529412 0 0 0 135.529412 301.176471v90.352941A45.176471 45.176471 0 0 0 180.705882 436.705882h662.588236a45.176471 45.176471 0 0 0 45.17647-45.17647v-90.352941A135.529412 135.529412 0 0 0 752.941176 165.647059z m-481.882352 30.117647h481.882352a105.411765 105.411765 0 0 1 105.411765 105.411765v90.352941a15.058824 15.058824 0 0 1-15.058823 15.058823H180.705882a15.058824 15.058824 0 0 1-15.058823-15.058823v-90.352941A105.411765 105.411765 0 0 1 271.058824 195.764706z"
                  fill="#117c93" p-id="16868"></path>
              <path
                  d="M602.352941 180.705882v240.941177h-30.117647V180.705882zM451.764706 180.705882v240.941177h-30.117647V180.705882zM286.117647 180.705882v240.941177h-30.117647V180.705882zM752.941176 180.705882v240.941177h-30.117647V180.705882z"
                  fill="#117c93" p-id="16869"></path>
            </svg>
          </el-icon>
          <span>开放组件</span>
        </template>
        <el-menu-item index='/example/cropper'>图片裁剪</el-menu-item>
        <el-menu-item index='/example/crypto'>加解密算法</el-menu-item>
      </el-sub-menu>
      <!--      系统管理-->
      <el-sub-menu index='4'>
        <template #title>
          <el-icon color="#409EFC">
            <svg t="1661146629313" class="icon" viewBox="0 0 1168 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 p-id="14918" width="32" height="32">
              <path
                  d="M787.333831 588.946093a75.189984 75.189984 0 0 0-75.093984 75.092984 75.189984 75.189984 0 0 0 75.093984 75.093984 75.165984 75.165984 0 0 0 75.067984-75.093984 75.165984 75.165984 0 0 0-75.067984-75.092984m0 222.841953a147.919968 147.919968 0 0 1-147.749968-147.748969c0-81.455982 66.292986-147.747968 147.749968-147.747968 81.431983 0 147.747968 66.291986 147.747968 147.747968 0 81.480982-66.315986 147.748968-147.747968 147.748969m89.452981 102.106978c0.342 0.244 1.317 0.585 2.315999 0.585h0.122l71.484985-39.496992c-1.706-4.022999-9.605998-23.478995-9.605998-43.739991a113.858976 113.858976 0 0 1 107.739977-113.613975c0.853-4.729999 5.557999-31.524993 5.557998-51.639989s-4.704999-46.88399-5.559998-51.637989a113.858976 113.858976 0 0 1-107.737977-113.565976c0-20.357996 7.923998-39.813991 9.605998-43.81299l-70.313985-39.057992-0.293-0.025a5.339999 5.339999 0 0 0-2.706 0.732 196.753958 196.753958 0 0 1-26.014994 21.819995c-21.699995 15.239997-42.153991 22.967995-60.951987 22.967995-18.919996 0-39.594991-7.874998-61.390987-23.405995a194.705958 194.705958 0 0 1-26.160994-22.283995 5.777999 5.777999 0 0 0-2.729999-0.707h-0.245l-72.824985 40.032992c1.706 4.046999 9.579998 23.479995 9.579998 43.73999A113.858976 113.858976 0 0 1 528.896886 614.350088c-0.854 4.729999-5.509999 31.524993-5.509998 51.639989s4.655999 46.90799 5.533998 51.661989a113.858976 113.858976 0 0 1 107.763977 113.589975c0 20.334996-7.972998 39.863991-9.679998 43.788991l68.973985 38.545992h0.146c1.024 0 1.95-0.365 2.317-0.585a200.849957 200.849957 0 0 1 26.428994-23.161995c22.088995-16.188997 43.079991-24.429995 62.414987-24.429995 19.552996 0 40.715991 8.387998 62.949986 24.917995 14.921997 11.068998 25.259995 22.185995 26.551995 23.575995m22.673995 108.397976c-13.774997-0.025-27.135994-5.704999-35.765993-15.213996-11.775997-12.896997-49.005989-46.44599-79.530982-46.44599-30.280993 0-68.119985 33.767993-78.993984 45.54399-8.606998 9.386998-21.869995 14.969997-35.499992 14.969997-6.483999 0-12.603997-1.243-18.186996-3.706l-0.975-0.414-92.69698-51.833988-0.926-0.683a44.46999 44.46999 0 0 1-14.920996-53.735989c0.049-0.146 8.532998-19.699996 8.532998-37.594992a98.376979 98.376979 0 0 0-98.254979-98.254978h-3.900999c-15.505997 0-28.159994-13.799997-32.182993-35.108993-0.341-1.706-7.923998-42.178991-7.923999-74.044984 0-31.913993 7.557998-72.361984 7.899999-74.117984 4.119999-21.576995 16.992996-35.449992 32.816993-35.083993h3.266999a98.400979 98.400979 0 0 0 98.279979-98.303978c0-17.846996-8.484998-37.399992-8.559998-37.619992a44.34899 44.34899 0 0 1 15.068996-53.661989l0.95-0.658 97.839979-53.759988 1.025-0.415c5.485999-2.364999 11.507998-3.534999 17.895996-3.534999 13.604997 0 26.891994 5.436999 35.595992 14.629997 11.579998 12.115997 48.17699 43.640991 77.774984 43.64099 29.354994 0 65.755986-30.914993 77.287983-42.812991 8.654998-8.996998 21.844995-14.335997 35.302992-14.335997 6.509999 0 12.653997 1.22 18.285997 3.657l0.974999 0.414 94.47698 52.516988 0.95 0.658c16.895996 11.751997 23.332995 34.889993 14.945997 53.735989-0.05 0.146-8.532998 19.699996-8.532999 37.545992a98.400979 98.400979 0 0 0 98.254979 98.279978h3.29c15.775997-0.34 28.719994 13.506997 32.817993 35.107993 0.317 1.707 7.899998 42.203991 7.899998 74.069984 0 31.889993-7.582998 72.410984-7.949998 74.117984-4.045999 21.551995-16.991996 35.424992-32.766993 35.059993h-3.291a98.400979 98.400979 0 0 0-98.254979 98.278978c0 17.846996 8.483998 37.449992 8.556999 37.619992a44.42199 44.42199 0 0 1-15.017997 53.710989l-0.927 0.683-96.133979 53.100988-0.975 0.415a44.88499 44.88499 0 0 1-17.846996 3.583999z m222.061952-705.339848a48.76199 48.76199 0 1 1-97.523979 0V121.977194c0-13.457997-10.873998-24.453995-24.307995-24.453995H121.829974c-13.262997 0-24.306995 10.970998-24.306995 24.453995v584.995874c0 13.457997 10.873998 24.453995 24.307995 24.453995h219.499953a48.76199 48.76199 0 1 1 0 97.523979H48.908989A48.76199 48.76199 0 0 1 0 780.191052V48.76121C0 21.822215 21.893995 0.00022 48.907989 0.00022h1023.706781a48.76199 48.76199 0 0 1 48.907989 48.76199v268.189942zM219.427953 975.23701c0-26.940994 21.991995-48.76199 48.981989-48.761989h194.607959a48.76199 48.76199 0 1 1 0 97.523979H268.433942a48.76199 48.76199 0 0 1-49.005989-48.76199z"
                  p-id="14919" fill="#409EFF"></path>
            </svg>
          </el-icon>
          <span>系统管理</span>
        </template>
        <el-menu-item index='/systemConfig/userinfo'>个人中心</el-menu-item>
        <el-menu-item index='3-2'>主题配置</el-menu-item>
      </el-sub-menu>
    </el-menu>
    <!--    伸缩条-->
    <div class='bottom-bar' @click='changeMenuMode'>
      <img :src='sideMode?sideIn:sideOut'>
    </div>
  </div>

</template>

<style lang='less' scoped>
// 顶部logo
.top-logo {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 10;
  width: 100%;
  height: 60px;
  display: flex;
  height: 60px;
  align-items: center;
  justify-content: center;
  font-family: Georgia, serif;
  border-bottom: 1px solid #EBEEF5;

  img {
    padding: 0 10px 0 15px;
    width: 36px;
    height: 36px;
  }
}

//伸缩条
.bottom-bar {
  position: absolute;
  bottom: 0;
  left: 0;
  z-index: 10;
  width: calc(100% - 20px);
  //height: 30px;
  margin: 10px;
  padding: 4px;
  box-sizing: border-box;
  border-radius: 5px;
  background-color: var(--main-color);
  color: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;

  img {
    width: 20px;
    height: 20px;
  }
}

// 覆盖原主题
.el-menu-style {
  z-index: 1;
  padding: 60px 0 30px 0;
  //--el-menu-bg-color: #ecf5ff;
  --el-menu-border-color: #fff;
  --el-menu-text-color: #606266;
  --el-menu-hover-bg-color: #c6e2ff;
  --el-menu-active-color: #000;
}

:deep(.el-menu-item.is-active) {
  background-color: #c6e2ff;
  border-right: 1px solid #a0cfff;
}

</style>